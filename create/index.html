<!doctype HTML>
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-129285594-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'UA-129285594-1');
	</script>

	<title>Bans.Create</title>

	<meta name="description" content="Create your own SSBU Stagelist." />
	<meta name="viewport" content="width=device-width" />
	<meta charset="UTF-8" /> 

	<link rel="stylesheet" type="text/css" href="../style.css" />
	<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />
	<link rel="icon" href="../favicon.ico" type="image/x-icon" />

	<script src="../constants.js"></script>
 	<script src="create.js"></script>
</head>

<body class="createBody">
	<h1>Create Your Own Stagelist!</h1>
	<p>
		Welcome to the Bans.Page Stagelist creator! Use the (+) and (-) buttons to add and remove stages from groups. When you're happy with your selection, click "Create Stagelist"!<br />Once viewing your Stagelist, you can share it with others by copying the URL.
	</p>

	<p>The ¬ symbol means a stage should only be played without Stage Hazards.</p>
	<hr />
	<!-- <button onclick="generateCode()">Generate Stage Code</button><br /> -->
	<button onclick="redirect()">Create Stagelist</button><br /><hr />
	<main id="buckets">
		<section id="bucket1">
			<h2 id="header1">Starters</h2>
			<button onclick="addStage(1)"> + </button> 
			<button onclick="removeStage(1)"> - </button>
			<br /><br />

			<div>
				<select id="asdf"></select><input type="checkbox" /><label> ¬</label><br />
			</div>
		</section>

		<section id="bucket2">
			<h2 id="header2">Counterpicks</h2>
			<button onclick="addStage(2)"> + </button> 
			<button onclick="removeStage(2)"> - </button>
			<br /><br />
			<div>
				<select></select><input type="checkbox" /><label> ¬</label><br />
			</div>
		</section>
	</main>
	<br /><br />
	<button onclick="addBucket()">Add Stage Bucket</button>
	<p>If you leave the default two buckets, you'll have standard "Starters" and "Counterpicks". If you go for 3 or more buckets, your buckets will be numbered.</p>

	<hr />

	<button onclick="redirect()">Create Stagelist</button><br /><hr /><br />

	<p>If you'd like to change the list of stages to select from, click the button below.</p>

	<button id="limited" onclick="window.location.href='./index.html?nolimits=1';">
		Show Full Stage Options
	</button>

	<button id="unlimited" class="hidden" onclick="window.location.href='./index.html';">
		Show Limited Stage Options
	</button>

	<br /><br />
	<button onclick="window.location.href='./index.html';">Reset</button>

	<div class="hidden">
		<label>Paste an existing stage code here, or press "Generate Stage Code" to create one: </label><br />
		<input type="text" id="generatedCode" /><br />
		<button class="small" onclick="loadBuckets()">Load Creator from Code</button><br />
	</div>

	<footer>
		<p>Created by <a href="https://twitter.com/WaveParadigm">WaveParadigm</a> and <a href="https://twitter.com/VGInvis">Invis</a></p>
		<p><a href="../index.html">Home</a> | <a href="./index.html">Stagelist Creator</a> | <a href="../about.html">About</a></p>
		<p>(c) 2018</p>
	</footer>
</body>

<script>
	

	let urlString = window.location.href;
    let url = new URL(urlString);
    let nolimits = url.searchParams.get("nolimits");
    let stageCode = url.searchParams.get("s");
    if (nolimits) {
    	whitelist = names;
    	document.getElementsByTagName("h1")[0].innerHTML = "Create Your Own Stagelist! No limits!";
    	document.getElementById("unlimited").classList.remove("hidden");
    	document.getElementById("limited").classList.add("hidden");
    }

    loadSelects();

    if (stageCode) {
    	document.getElementById("generatedCode").value = stageCode;
    	console.log(document.getElementById("generatedCode").value);
    	loadBuckets();
    	document.getElementById("generatedCode").value = stageCode;
    }
</script>