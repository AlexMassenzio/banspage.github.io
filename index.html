<!doctype html>
<html>
<head>
    <title>Stage Striking</title>
    <meta name="description" content="Ban stages for Super Smash Bros!" />
    <meta name="viewport" content="width=device-width">
 	<link rel="stylesheet" type="text/css" href="style.css">
 	<script src="constants.js"></script>
 	<script src="logic.js"></script>
</head>
<body>
    <h1>Smash Bros Stage Striking</h1>

    <label>Stage Code: </label><input type="text" id="stageCode" /> <br />
    <button class="small" onclick="load()">Load From Code</button>

    <p>
    	Click on a stage to strike it. Click a struck stage to unstrike it. Refresh page to reset. (These are our day 1 lists. Lists subject to change as community decides on legal stages.)
    </p>
    <p>
    	<a onclick="initFromDataMap(0)" href="#">SMASHADELPHIA Stagelist</a> | 
    	<a onclick="initFromDataMap(1)" href="#">Xanadu Stagelist</a> | 
    	<a onclick="initFromDataMap(2)" href="#">2GG's Stagelist</a> |
    	<a onclick="initFromDataMap(3)" href="#">Ori's (Michigan TO) Stagelist</a> 
    </p>

    <p><a href="./create/index.html">Create your own stagelist!</a></p>
    
    <!-- Up to 9 buckets. Yeah, I could have generated these some other way. If you really want more than 9 buckets just...@ me I guess? -->
    <div id="bucket0"></div>
    <div id="bucket1"></div>
    <div id="bucket2"></div>
	<div id="bucket3"></div>
    <div id="bucket4"></div>
    <div id="bucket5"></div>
    <div id="bucket6"></div>
    <div id="bucket7"></div>
    <div id="bucket8"></div>

    <br /><br />

    <section>
    	 <p><img src="dotted.jpg" />¬ = Hazardless</p>
    </section>

    <footer>
		<p>Created by <a href="https://twitter.com/WaveParadigm">WaveParadigm</a> and <a href="https://twitter.com/VGInvis">Invis</a></p>
		<p><a href="./index.html">Home</a> | <a href="./create/index.html">Stagelist Creator</a></p>
	</footer>
</body>
</html>

<script>

let generated = getURLParameters(); //try to read from URL
if (generated) {
	init(generated);
	let urlString = window.location.href;
    let url = new URL(urlString);
    let param = url.searchParams.get("s");
    document.getElementById("stageCode").value = param;
} else {
	initFromDataMap(0);
}

function load() {
	let stageCode = document.getElementById("stageCode").value;
	if (stageCode) 
		init(decode(stageCode));
}

</script>
